<!DOCTYPE html>
<html lang='en'>
    <head>
        <title>
            Timer app
        </title>
        <script>
            window.onload = function(){
                var hours = new Date().getUTCHours();
                var minutes = new Date().getUTCMinutes();
                var newMin = minutes + 45;
                if(newMin > 60){
                    newMin %= 60;
                    var newHours = hours+1;
                }
                console.log(hours + 'h ' + newMin + 'm ')
                document.getElementById("currentTime").innerHTML = 'Current Time: ' + hours + 'h ' + minutes + 'm ';
                document.getElementById('timeTillComplete').innerHTML = 'What time it\'ll be when you\'re done: ' + newHours + 'h ' + newMin + 'm ';
                var btn = document.getElementById('btn');
                var number = 0;
                
                document.getElementById('btn').onclick = function countdown(){
                    var mins = 45;
                    var seconds = 0;
                    setInterval(function(){

                            if(seconds % 60 == 0){
                                mins -= 1;
                                seconds = 60;
                            }
                            if(mins == 0 && seconds == 1){
                                document.getElementById('test').play();
                                document.getElementById('timer').innerHTML = "Time is up! have a break!";
                                return
                            }
                            seconds -= 1;
                            if(seconds < 10)
                            {
                                document.getElementById('timer').innerHTML = mins + ': ' + '0' + seconds;
                            }
                            else
                            {
                            document.getElementById('timer').innerHTML = mins + ': ' + seconds;
                            }
                            

                        },1000)
                        return
                    }
                    
                    document.getElementById('btnBreak').onclick = function countdownBreak(){
                    var mins = 15;
                    var seconds = 0;
                    setInterval(function(){

                            if(seconds % 60 == 0){
                                mins -= 1;
                                seconds = 60;
                            }
                            if(mins == 0 && seconds == 1){
                                document.getElementById('test').play();
                                document.getElementById('timer').innerHTML = "Time is up! Get back to work!";
                                return
                            }
                            seconds -= 1;
                            if(seconds < 10)
                            {
                                document.getElementById('timer').innerHTML = mins + ': ' + '0' + seconds;
                            }
                            else
                            {
                            document.getElementById('timer').innerHTML = mins + ': ' + seconds;
                            }
                            

                        },1000)
                        return
                    }
            }
        </script>

        <style>
            body{background-color:darkslategray;color:white;text-align: center;font-family:'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif}
            #timer, #timerBreak{font-size: 3em;}
            #btn, #btnBreak{color:white;background-color:lightseagreen;border-radius:15px;border: 0px solid black; font-size:1.5em;padding:.1em 1em;}
        </style>
    </head>

    <body>
        <h1>Pomidoro Timer</h1>
        <p id="currentTime">r</p>
        <h2 id='timer'>45:00</h2>
        <input type="button" value="Start" id="btn"\>
        <p id='timeTillComplete'>e</p>
        <audio id='test' src='assets/podcastEpisodes/ChatLabPilot.mp3'></audio>
        <h2 id='timerBreak'>15:00</h2>
        <input type="button" value="Start" id="btnBreak"\>


    </body>
</html>